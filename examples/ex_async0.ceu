int ret;
par/or do
    ret = set async do
        // calculates fat of 10
        int fat = 1;
        int i = 10;
        loop do
            if i == 0 then
                break;
            end
            fat = fat * i;
            i = i - 1;
        end
        return fat;
    end;
with
    await 1s;       // watchdog to kill the async if it takes too long
    ret = 0;
end
return ret;
