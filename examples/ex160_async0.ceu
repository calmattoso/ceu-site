var int ret;
par/or do
    var int* ptr = &ret;
    async (ptr) do
        // calculates fat of 10
        var int fat = 1;
        var int i = 10;
        loop do
            if i == 0 then
                break;
            end
            fat = fat * i;
            i = i - 1;
        end
        *ptr = fat;
    end;
with
    await 1s;  // kill the async if it takes long
    ret = 0;
end
return ret;
